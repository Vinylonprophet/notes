<!--
 * @Author: Vinylonprophet 915390118@qq.com
 * @Date: 2022-11-02 00:57:36
 * @LastEditors: Vinylonprophet 915390118@qq.com
 * @LastEditTime: 2022-11-02 18:23:26
 * @FilePath: \angular-test\src\app\app.component.html
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
<div>App works</div>

<app-layout></app-layout>

<hr />
<!-- 数据绑定 -->
<div>{{ message }}</div>
<div>{{ getInfo() }}</div>
<div [innerHTML]="htmlString"></div>
<div>{{ 1 == 1 ? "true" : "false" }}</div>
<div>{{ "angular" }}</div>

<hr />
<!-- 普通属性 -->
<div [attr.data-test]="title"></div>
<img [src]="imgUrl" alt="" />

<hr />
<!-- class属性 -->
<button class="btn btn-primary">button</button>
<div class="a" [class.active]="true"></div>
<div class="b" [ngClass]="{ active: true, error: true }"></div>

<hr />
<!-- style属性 -->
<!-- <button [style.backgroundColor]="isActive: blue ? red">真假判断</button> -->
<div [style.width]="'200px'" [style.backgroundColor]="'red'">background</div>
<button [ngStyle]="{ backgroundColor: 'skyblue', padding: '10px' }">
  button
</button>

<hr />
<!-- 事件绑定 -->
<button (mousedown)="onClick($event)">MouseEvent</button>
<button (click)="onClick($event)">PointerEvent</button>
<!-- 当按下回车键抬起时执行函数 -->
<div>
  <input type="text" (keyup.enter)="onKeyup()" />
</div>

<hr />
<!-- 获取原生 DOM 对象 -->
<!-- 在组件模板中获取 -->
<button (click)="onClickBtn(btn)" #btn>buttton</button>

<!-- 在组件类中获取，通过 ViewChild 装饰器获取一个元素 -->
<p #paragraph>home works!</p>
<ul>
  <li #items>a</li>
  <li #items>b</li>
  <li #items>c</li>
  <li #items>d</li>
  <li #items>e</li>
</ul>

<hr />
<!-- 双向数据绑定 -->
<input type="text" [(ngModel)]="username" />
<button (click)="setData()">更改数据</button>
<button (click)="getData()">获取数据</button>

<hr />
<!-- 内容投影 -->
<app-demo>
  <div class="a">a</div>
  <ng-container class="b">b</ng-container>

  <!-- 如果只有一个content，则不需要select -->
  <!-- <div>Hello</div> -->

  <!-- 如果不需要div这类标签，可以使用ng-container -->
  <!-- <ng-container>Hello</ng-container> -->
</app-demo>

<hr />
<!-- 数据绑定的容错处理，绑定的对象层级比较深，并且是可选的，这时候要做容错处理，如果不做的话，当访问的属性不存在时就会报错 -->
<!-- 方法一 使用ngIf -->
<span *ngIf="task.personM">{{ task.personM.name }}</span>

<!-- 方法二 使用ts中的?判断存不存在 -->
<span>{{ task.personF?.name }}</span>

<hr />
<!-- 引入全局样式 -->
<button type="button" class="btn btn-primary">button</button>

<!-- 指令 -->
<!-- 属性指令：修改现有元素的外观或行为，使用[]包裹 -->
<!-- 结构指令：增加、删除 DOM 节点以修改布局，使用*作为指令前缀 -->

<!-- 内置指令 -->

<hr />
<!-- ngIf -->
<div *ngIf="list.length === 0; then noData; else dataList">没有更多数据</div>
<ng-template #noData><div>没有数据</div></ng-template>
<ng-template #dataList
  ><div>数组存在 {{ list.length }} 条数据</div></ng-template
>

<hr />
<!-- hidden -->
<!-- 无论如何都渲染 dom 节点（display：none | block） -->
<div [hidden]="list.length === 0">
  数组存在 {{ list.length }} 条数据（hidden）
</div>
<div [hidden]="list.length > 0">没有更多数据（hidden）</div>

<hr />
<!-- ngFor -->
<div *ngIf="list.length === 0; then noData; else listInfo">没有更多数据</div>
<ng-template #noData><div>没有数据</div></ng-template>
<ng-template #listInfo>
  <ul>
    <li
      *ngFor="
        let item of list;
        let i = index;
        let isEven = even;
        let isOdd = odd;
        let isFirst = first;
        let isLast = last;
        trackBy: identify
      "
      [ngClass]="{ even: isEven, odd: isOdd, first: isFirst, last: isLast }"
    >
      <p>
        id: {{ list[i].id }}
      </p>
      <p>
        name: {{ list[i].name }}
      </p>
      <p>
        age: {{ list[i].age }}
      </p>
    </li>
  </ul>
</ng-template>
